<app-header backButton="main/players" title="Detalles jugadora"></app-header>
<div *ngIf="isLoading"> Loading...</div>
<ion-content *ngIf="!isLoading && player">

    <ion-card>

      <div *ngIf="player.image" class="img-wrapper">
        <img alt="Alguna imagen" [src]="player.image" />
      </div> 
      <ion-card-header>
        <ion-card-title>Nombre: {{ player.name }},número {{player.numberPlayer}}</ion-card-title>
        <ion-card-subtitle>Posiciones: <p *ngFor="let position of player.positions"> {{ position.name }} &nbsp;</p></ion-card-subtitle>
      </ion-card-header>
    
      <ion-card-content *ngFor="let statistic of statistics;let i = index">

        <ion-accordion-group>
          <ion-accordion>
            <ion-item slot="header" color="light">
              <ion-label>Desplegar</ion-label>
            </ion-item>
            <div class="ion-padding" slot="content"> 
              Estadistica del partido: {{nameMatch[i]}}, set: {{numberSet[i]}}
              <ion-grid [fixed]="true">Puntos positivos: 
                <ion-row>
                  <ion-col size="6" size-md="4" size-lg="2">Saque: {{statistic.statisticsPositiveList[0]}}</ion-col>
                  <ion-col size="6" size-md="4" size-lg="2">Armado: {{statistic.statisticsPositiveList[1]}}</ion-col>
                  <ion-col size="6" size-md="4" size-lg="2">Ataque: {{statistic.statisticsPositiveList[2]}}</ion-col>
                  <ion-col size="6" size-md="4" size-lg="2">Recepcion: {{statistic.statisticsPositiveList[3]}}</ion-col>
                  <ion-col size="6" size-md="4" size-lg="2">Defensa: {{statistic.statisticsPositiveList[4]}}</ion-col>
                  <ion-col size="6" size-md="4" size-lg="2">Bloqueo: {{statistic.statisticsPositiveList[5]}}</ion-col>
                </ion-row>
              </ion-grid>
      
              <ion-grid [fixed]="true">Puntos Negativos: 
                <ion-row>
                  <ion-col size="6" size-md="4" size-lg="2">Saque: {{statistic.statisticsNegativeList[0]}}</ion-col>
                  <ion-col size="6" size-md="4" size-lg="2">Armado: {{statistic.statisticsNegativeList[1]}}</ion-col>
                  <ion-col size="6" size-md="4" size-lg="2">Ataque: {{statistic.statisticsNegativeList[2]}}</ion-col>
                  <ion-col size="6" size-md="4" size-lg="2">Recepcion: {{statistic.statisticsNegativeList[3]}}</ion-col>
                  <ion-col size="6" size-md="4" size-lg="2">Defensa: {{statistic.statisticsNegativeList[4]}}</ion-col>
                  <ion-col size="6" size-md="4" size-lg="2">Bloqueo: {{statistic.statisticsNegativeList[5]}}</ion-col>
                </ion-row>
              </ion-grid>
      
              <ion-card>
                <ion-button *ngIf="!verGrafica[i]" (click)="armarGrafica(statistic, i)" expand="block" fill="clear" shape="round">
                  Ver gráfica
                </ion-button>
                <ion-button *ngIf="verGrafica[i]" (click)="cerrarGrafica(i)" expand="block" fill="clear" shape="round">
                  Cerrar
                </ion-button>
                <ion-card-header *ngIf="verGrafica[i]">
                  <div id="chart">
                      <apx-chart
                          [series]="chartOptions[i]?.series"
                          [chart]="chartOptions[i]?.chart"
                          [xaxis]="chartOptions[i]?.xaxis"
                          [title]="chartOptions[i]?.title">
                      </apx-chart>
                  </div>
              </ion-card-header>
              </ion-card>
            </div>
          </ion-accordion>
        </ion-accordion-group>
        
      </ion-card-content>
    </ion-card>

</ion-content>
